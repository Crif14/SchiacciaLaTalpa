<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="static/css/style.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="https://unpkg.com/nes.css@latest/css/nes.min.css" rel="stylesheet" />
</head>

<body background="static/image/sfondo.jpg">
    <div class="container mt-5">
        <div class="row">
            <!-- Colonna sinistra -->
            <div class="col-3 " id="punteggi">
                <h3>Classifica migliori punteggi</h3>
                <ol>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                    <li></li>
                </ol>
                <h3>
                    Ultimo punteggio
                </h3>
                <p id="ultimo"></p>
            </div>

            <!-- Colonna centrale -->
            <div class="col-5 center">
                <div class="container mt-5 " id="menuplay">
                    <h1 class="text-center mb-4">Game Menu</h1>
                    <div class="d-flex justify-content-center">
                        <button class="nes-btn is-primary" id="avviogioco">Avvia Gioco</button>
                        <div class="dropdown">
                            <button class="nes-btn is-success" type="button" id="difficultyDropdown"
                                data-bs-toggle="dropdown" aria-expanded="false">
                                Scegli Difficoltà
                            </button>
                            <ul class="dropdown-menu" aria-labelledby="difficultyDropdown">
                                <li><a class="dropdown-item" href="#">Facile</a></li>
                                <li><a class="dropdown-item" href="#">Media</a></li>
                                <li><a class="dropdown-item" href="#">Difficile</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div id="cont-grid" class="hide">
                    <progress class="nes-progress is-pattern" max="100"></progress>
                    <i class="nes-icon is-large heart">
                    </i>
                    <i class="nes-icon is-large heart"></i>
                    <i class="nes-icon is-large heart"></i>
                    <div id="container-punteggio">
                        <h4>Il tuo punteggio</h4>
                        <h5 id="punteggio"></h5>
                    </div>
                    <div class="griglia ">
                        <div class="container-img">
                            <div class="hide mario">
                                <i class="nes-mario"></i>
                            </div>
                            <img src="static/image/tubo.png" alt="Immagine 1">
                        </div>
                        <div class="container-img">
                            <div class="hide mario">
                                <i class="nes-mario"></i>
                            </div>
                            <img src="static/image/tubo.png" alt="Immagine 2">
                        </div>
                        <div class="container-img">
                            <div class="hide mario">
                                <i class="nes-mario"></i>
                            </div>
                            <img src="static/image/tubo.png" alt="Immagine 3">
                        </div>
                        <div class="container-img">
                            <div class="hide mario">
                                <i class="nes-mario"></i>
                            </div>
                            <img src="static/image/tubo.png" alt="Immagine 4">
                        </div>
                        <div class="container-img">
                            <div class="hide mario">
                                <i class="nes-mario"></i>
                            </div>
                            <img src="static/image/tubo.png" alt="Immagine 5">
                        </div>
                        <div class="container-img">
                            <div class="hide mario">
                                <i class="nes-mario"></i>
                            </div>
                            <img src="static/image/tubo.png" alt="Immagine 6">
                        </div>
                        <div class="container-img">
                            <div class="hide mario">
                                <i class="nes-mario"></i>
                            </div>
                            <img src="static/image/tubo.png" alt="Immagine 7">
                        </div>
                        <div class="container-img">
                            <div class="hide mario">
                                <i class="nes-mario"></i>
                            </div>
                            <img src="static/image/tubo.png" alt="Immagine 8">
                        </div>
                        <div>
                            <div class="hide mario">
                                <i class="nes-mario"></i>
                            </div>
                            <img src="static/image/tubo.png" alt="Immagine 9">
                        </div>
                        <div class="container-img">
                            <div class="hide mario">
                                <i class="nes-mario"></i>
                            </div>
                            <img src="static/image/tubo.png" alt="Immagine 10">
                        </div>
                        <div class="container-img">
                            <div class="hide mario">
                                <i class="nes-mario"></i>
                            </div>
                            <img src="static/image/tubo.png" alt="Immagine 11">
                        </div>
                        <div class="container-img">
                            <div class="hide mario">
                                <i class="nes-mario"></i>
                            </div>
                            <img src="static/image/tubo.png" alt="Immagine 12">
                        </div>
                        <div class="container-img">
                            <div class="hide mario">
                                <i class="nes-mario"></i>
                            </div>
                            <img src="static/image/tubo.png" alt="Immagine 13">
                        </div>
                        <div class="container-img">
                            <div class="hide mario">
                                <i class="nes-mario"></i>
                            </div>
                            <img src="static/image/tubo.png" alt="Immagine 14">
                        </div>
                        <div class="container-img">
                            <div class="hide mario">
                                <i class="nes-mario"></i>
                            </div>
                            <img src="static/image/tubo.png" alt="Immagine 15">
                        </div>
                        <div class="container-img">
                            <div class="hide mario">
                                <i class="nes-mario"></i>
                            </div>
                            <img src="static/image/tubo.png" alt="Immagine 16">
                        </div>
                    </div>
                    <input type="button" class="nes-btn is-error" id="botreset" value="Reset">
                </div>
            </div>

            <!--Colonna destra-->
            <div class="col-4" id="Info">
                <h3>Come si gioca</h3>
                <ul>
                    <li>
                        Scegliere la Difficoltà;
                    </li>
                    <li>
                        Schiacciare su "Avvia gioco" per iniziare a giocare;
                    </li>
                    <li>
                        Avrai 1 minuto per schiacciare più talpe possibili che in base alla difficolta scelta
                        appariranno e scompariranno più velocemente;
                    </li>
                    <li class="hide">
                        Attenzione!!
                        Non tutti i tipi di talpe sono uguali; <input type="button" value="(Clicca qui per vederli)"
                            id="btn-personaggi">
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <script>
        let menuplay = document.querySelector("#menuplay")
        let contgrid = document.querySelector("#cont-grid")
        let selectedDifficulty = null;
        function startGame() {
            if (!selectedDifficulty) {
                document.querySelector('#difficultyDropdown').classList.remove('is-primary');
                document.querySelector('#difficultyDropdown').classList.add('is-error');
                console.log('Seleziona una difficoltà prima di avviare il gioco!');
            } else {
                console.log('Gioco avviato con difficoltà: ' + selectedDifficulty);
                menuplay.classList.add("hide")
                contgrid.classList.remove("hide")
            }
        }

        function setDifficulty(level) {
            selectedDifficulty = level;
            document.querySelector('#difficultyDropdown').classList.remove('btn-danger');
            document.querySelector('#difficultyDropdown').classList.add('btn-secondary');
            document.querySelector('#difficultyDropdown').innerText = 'Difficoltà: ' + level;
        }

        document.querySelector('#avviogioco').addEventListener("click", function (event) {
            startGame();
        })
        let elements = document.querySelectorAll(".dropdown-item")
        for (let i = 0; i < elements.length; i++) {
            elements[i].addEventListener("click", function (event) {
                let el = event.currentTarget;
                let difficulty = el.innerText;  // Ottieni il testo dell'elemento
                setDifficulty(difficulty);  // Imposta la difficoltà
                console.log("Difficoltà selezionata: " + difficulty);;
            })
        }
    </script>
</body>

</html>